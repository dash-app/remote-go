package daikin03_test

import (
	"testing"

	"github.com/dash-app/remote-go/aircon"
	"github.com/dash-app/remote-go/aircon/daikin/daikin03"
	"github.com/dash-app/remote-go/test"
)

func Test_Daikin03(t *testing.T) {
	rem := daikin03.New()

	tests := []*test.ACTestEntry{
		{
			Title:  "Auto",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x09, 0xC0, 0x80, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x24},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "auto",
				Temp:           0.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Operation=off",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x24},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x38, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x47},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      false,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Dry",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x29, 0xC0, 0x80, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x44},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "dry",
				Temp:           0.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Heat",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x49, 0x2E, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x52},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "heat",
				Temp:           23.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Temp=18.0",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x24, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x38},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           18.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Temp=32.0",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x40, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x54},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           32.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Dry/Temp=-3.0",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x29, 0xDA, 0x80, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x5E},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "dry",
				Temp:           -3.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=auto",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=1",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0x30, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0xD8},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "1",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=2",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0x40, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0xE8},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "2",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=3",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0x50, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0xF8},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "3",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=4",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0x60, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x08},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "4",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/Fan=5",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0x70, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x18},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "5",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Auto/HorizontalVane=auto",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x74},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x09, 0xC0, 0x80, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x24},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "auto",
				Temp:           0.0,
				Fan:            "auto",
				HorizontalVane: "auto",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=swing",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x94},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xAF, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x57},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "swing",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=1",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=2",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xB4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "2",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=3",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xC4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "3",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=4",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xD4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "4",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/HorizontalVane=5",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x50, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xE4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x48},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "5",
				VerticalVane:   "keep",
			},
		},
		{
			Title:  "Cool/VerticalVane=Swing",
			Remote: rem,
			Original: []*test.ACOriginals{
				{
					Code: [][]int{
						{0x00},
						{0x11, 0xDA, 0x27, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA4},
						{0x11, 0xDA, 0x27, 0x00, 0x00, 0x39, 0x34, 0x00, 0xA0, 0x0F, 0x00, 0x06, 0x60, 0x00, 0x00, 0xC3, 0x00, 0x00, 0x57},
					},
				},
			},
			Entry: &aircon.Entry{
				Operation:      true,
				Mode:           "cool",
				Temp:           26.0,
				Fan:            "auto",
				HorizontalVane: "1",
				VerticalVane:   "swing",
			},
		},
	}

	for _, test := range tests {
		t.Run(test.Title, func(t *testing.T) {
			if err := test.Validate(); err != nil {
				t.Error(err)
				t.Fail()
			}
			if err := test.Compare(); err != nil {
				t.Error(err)
				t.Fail()
			}
		})
	}
}
